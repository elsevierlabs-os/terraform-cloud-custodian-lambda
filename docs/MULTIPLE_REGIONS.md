# Installing the same cloud custodian policy across multiple regions

Multiple options exist to deploy the same policy into multiple regions. This is necessary for resources that are regional such as ec2, but not for others that are not such as iam. The options are:

* Using the variable regions. This is a list of regions to deploy to, this would ignore any settings in the policy which come from [conditions](https://cloudcustodian.io/docs/quickstart/advanced.html#conditional-policy-execution). If you deploy a policy that is using regions you can cross-reference this with the `output.package_lambda_result` as the regions found with conditions are specified under `policy_regions`
* Using the [conditions](https://cloudcustodian.io/docs/quickstart/advanced.html#conditional-policy-execution). To use [conditions](https://cloudcustodian.io/docs/quickstart/advanced.html#conditional-policy-execution), you will need to override the default for `var.regions` to be empty / null. It will then get the regions in the `data.external.package_lambda` step. As this is run at apply stage, to avoid the error `The "for_each" set includes values derived from resource attributes that cannot be determined until apply, and so Terraform cannot determine the full set of keys that will identify the instances of this resource` you would need to target this to run it first. Once this is done you would be able to run the apply in full.